
:source-highlighter: pygments

== Introdução
Esse tutorial ensina como utilizar o sensor o infravermelho, +
conhecido também conhecido como sensor de linha. +
Para esse tutorial utilizaremos a Biblioteca desenvolvida pela +
equipe  https://github.com/lar-ect/URA[Lar-ect] e pode ser encontrada
pelo https://github.com/lar-ect/URA/tree/FCT/Toninho/Codigos/TesteSensorLinha/testeSensorLinha[link]. +
Vamos presumir também que o leitor já  possui a IDE do arduino instalado e saiba também como utiliza-lo. +
Esse Tutorial está dividido em 3 partes: Conexão jumper arduino, Conexão jumper sensor e código utilizado. +

== Montagem  

=== 1° parte: conecte os jumpers nas portas indicadas

image::https://lh3.googleusercontent.com/_HtXjmxJ4UMhy3qgbVEdZVL_pkzX8djeV831x6cfwFdZMSoeo2GtiLPHC-QELS9pIzSe1rnAcdU9AFKCuVXJYW8C-Ngz5aFr_PMbd14oLSDe2ZoAj-U4btPQGW6WOJG14XbS0zmsVeWHnl1UMqWVCPgE4WsCuwTYVpvl8adj2HYzV8mpnwp8w9DO3vsCPSH76Sn1HjR5yki_rwbGgJ4DS_FZ7rlGV1YbzSvzPsOMWSeVrIeIKv99vvj23hCzsmlvcfRFRY4GPWrDlrVJ-6rWuWByg6NzuS7b6wt7LXdVWD5_tu0nj4nmITQg0nIaypjw5zM581ZXkzs6l1qu37KYUsmDMY6kKRaX_53mCB57ME_W2l_tNyILpkHmAswhnHFB0A_qnjjNmbbHmq0q20jzzU2NMf7OKQqnGUU8K-GAZqoFqk7Vhh6vWeiXGR4wgZGNu0oBTcbDJ-sp-hK_u5QcsT3c-ENmiRYO69jQjWhM80X7voAdP1JSII2Jtk243XuUF9n1whivrvI3zSWA3QKki8zKPNvfFiuE9hGcZpPxMBSlnM0qUpwKUWP-DrRqdKldfIgV7VHGHM06iQoJwhtIpdeJ2_PZnx9oqQukAeoF4gNknXCqFKhSf9r0ktg585HizmVGnC9wEWoxuCiuN38t8suXHi1enL_TSMzj=w486-h647-no[Foto1,align="center"]

image::https://raw.githubusercontent.com/lar-ect/URA/FCT/Toninho/Fotos/TuTorial_SensorLinha/Jumper_Arduino_zoom.jpg[Foto2,align="center"]

* **Um jumper conectado a uma porta analogica simbolizado no arduino pela letra** _A_. +
No meu caso eu utilizei a porta _A1_ do meu arduino e o fio azul. +

* ** Um jumper conectado  no vcc também chamado de 5 volts ou energia. ** +
**No shield utilizado, o vcc é simbolizado pela letra:** _V_ +
Está meio difícil de ver, mas na minha montagem utilizei o fio cinza.  +

* **Um jumper conectado no gnd, também chamado de terra. ** +
**No shield utilizado, o gnd é representado pela letra:  ** _G_ +
Este jumper representa agora o famoso fio terra, está quase impossível de visualizar +
a cor do fio utilizado, mas os atentos iram perceber que é o roxo. +


=== 2° parte: conecte os mesmos jumpers no sensor


image::https://raw.githubusercontent.com/lar-ect/URA/FCT/Toninho/Fotos/TuTorial_SensorLinha/JumperSensorLinha.jpg[teste, align="center"]
image::https://raw.githubusercontent.com/lar-ect/URA/FCT/Toninho/Fotos/TuTorial_SensorLinha/JumperSensorLinha_zoom.jpg[align="center"]

* **O jumper conectado na porta analogica no arduino, agora deve ser conectado na porta analogica** +
**do sensor. Que é simbolizado pela letras:  ** _A0_. +
Na minha montagem, foi utilizado o fio azul.

* **O jumper conectado no vcc do arduino deve ser ligado a entrada vcc do sensor, simbolizada pelas ** + 
**letras:  ** _VCC_. +
Na minha montagem, foi utilizado o fio cinza. +

* **  jumper conectado no gnd do arduino deve ser ligado a entrada gnd do sensor, simbolizada pelas ** + 
**letras: ** _GND_. +


===== agora conecte o cabo USB no arduino e no PC 

==== Se tudo for devidamente conectado o resultado ficará  aproximadamente assim: 

image::https://raw.githubusercontent.com/lar-ect/URA/FCT/Toninho/Fotos/TuTorial_SensorLinha/resultado2.jpg[align="center"]

==== Onde ao passar por algum objeto preto um dos leds do sensor irá desligar.

image::https://raw.githubusercontent.com/lar-ect/URA/FCT/Toninho/Fotos/TuTorial_SensorLinha/resultado.jpg[align="center"]

caso isso não acontecer, certifique-se das seguites coisas:
    
    * que conectou os cabos corretamente
    * que o sensor esteja calibrado

para calibrar encaixe uma chave de fenda no objeto abaixo e gire.

image::https://raw.githubusercontent.com/lar-ect/URA/FCT/Toninho/Fotos/TuTorial_SensorLinha/Calibre.jpg[align = "center"]

=== 3° parte: Código no arduino


[source,arduino]
----
#include "SensorLinha.h"

/* coloque o numero do pino que vai
  utilizar na variavel pinoAnalogico.
  no meu caso foi o pino 1 */

int pinoAnalogico = 1;



/* chame a variavel especial SensorLinha com o numero
   entre parênteses do pino no meu caso eu coloquei a variavel
   pinoAnalogico, que  possui o valor igual a 1
*/

SensorLinha meuSensorLinha(pinoAnalogico);

/* escrevendo: "SensorLinha meuSensorLinha".  você está declarando
    um tipo de variavel especial (SensorLinha)  e chamando ela de meuSensorLinha.

*/
void setup() {


  /*
     essa função serve para iniciar  a comunicação pelo USB,
     também conhecida como comunicação serial
  */
  Serial.begin(9600); //begin em portugues significa começar 


  /*
     após observar a intecidade das cores que o sensor captura,
     você deve definir um Limiar, ou seja um valor limite
     que eu considerei que acima dele o sensor detectou o preto.
     no meu caso, observei o valor 700
  */
  meuSensorLinha.setLimiar(700);


}

void loop() {


  Serial.print("Sensor: ");
  Serial.println( analogRead(pinoAnalogico) );

  /*
     analogRead(pinoAnalogico),  essa função exibe valores entre 0 a 1023, que remetem a
     intencidade da luz , onde quando maior o valor mais escura é a cor capturada.
     já a função Serial.print(), perimite printar ou exibir esse valores no monitor Serial
     utilizei essas duas funções para encontrar o meu limiar
  */


  if ( meuSensorLinha.detectedBySensor() == true ){
      Serial.print("preto detectado");

   }
  else{ // significa que meuSensorLinha.detectedBySensor() == false 
      Serial.print("preto não detectado");
   }
   /*
      .detectedBySensor() é uma função especial do tipo SensorLinha, ela retorna apenas
      dois valores, verdadeiro ou falso, caso o valor detectado pelo sensor linha for
      maior que  seu limiar definido anteriormente, essa função retorna verdadeiro ou seja
      a cor do objeto que está abaixo do sensor é tão escura que podemos concluir que é o preto
      se não retornar verdadeiro, ou seja se for falso então a cor muito clara para podermos dizer
      que é preto. 

   */



}

----
